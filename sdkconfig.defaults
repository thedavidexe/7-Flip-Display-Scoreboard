# BLE Configuration for Scoreboard Controller
# These settings enable NimBLE stack for iOS app communication

# Enable Bluetooth
CONFIG_BT_ENABLED=y

# Use NimBLE (lighter weight than Bluedroid)
CONFIG_BT_NIMBLE_ENABLED=y

# BLE only mode (no classic Bluetooth)
CONFIG_BTDM_CTRL_MODE_BLE_ONLY=y

# Connection settings
CONFIG_BT_NIMBLE_MAX_CONNECTIONS=1
CONFIG_BT_NIMBLE_MAX_BONDS=1

# Security Manager settings
CONFIG_BT_NIMBLE_SM_LEGACY=y
CONFIG_BT_NIMBLE_SM_SC=y

# NimBLE task settings
CONFIG_BT_NIMBLE_PINNED_TO_CORE=0

# Increase sleep clock accuracy tolerance from 250 to 500 PPM
# Widens BLE timing windows to tolerate crystal drift from heat
CONFIG_BTDM_BLE_DEFAULT_SCA_500PPM=y

# Memory optimization
CONFIG_BT_NIMBLE_MEM_ALLOC_MODE_INTERNAL=y
